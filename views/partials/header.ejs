<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <% if (locals.user) { %>
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <i class="fas fa-graduation-cap"></i>
                    <span>EduControl NG</span>
                </div>
                
                <div class="nav-menu" id="nav-menu">
                    <% if (user.role === 'admin') { %>
                        <a href="/dashboard" class="nav-link <%= currentPath === '/dashboard' ? 'active' : '' %>">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                        <a href="/admin/students" class="nav-link <%= currentPath.includes('/admin/students') ? 'active' : '' %>">
                            <i class="fas fa-users"></i> Students
                        </a>
                        <a href="/admin/staff" class="nav-link <%= currentPath.includes('/admin/staff') ? 'active' : '' %>">
                            <i class="fas fa-chalkboard-teacher"></i> Staff
                        </a>
                        <a href="/admin/classes" class="nav-link <%= currentPath.includes('/admin/classes') ? 'active' : '' %>">
                            <i class="fas fa-school"></i> Classes
                        </a>
                        <a href="/admin/sessions" class="nav-link <%= currentPath.includes('/admin/sessions') ? 'active' : '' %>">
                            <i class="fas fa-calendar-alt"></i> Sessions
                        </a>
                        <a href="/admin/score-entry" class="nav-link <%= currentPath.includes('/admin/score-entry') ? 'active' : '' %>">
                            <i class="fas fa-edit"></i> Score Entry
                        </a>
                        <a href="/result/approve" class="nav-link <%= currentPath.includes('/result/approve') ? 'active' : '' %>">
                            <i class="fas fa-check-circle"></i> Approve Results
                        </a>
                        <a href="/admin/announcements" class="nav-link <%= currentPath.includes('/admin/announcements') ? 'active' : '' %>">
                            <i class="fas fa-bullhorn"></i> Announcements
                        </a>
                        <a href="/admin/school" class="nav-link <%= currentPath.includes('/admin/school') ? 'active' : '' %>">
                            <i class="fas fa-cog"></i> School Settings
                        </a>
                    <% } else if (user.role === 'teacher') { %>
                        <a href="/dashboard" class="nav-link <%= currentPath === '/dashboard' ? 'active' : '' %>">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                        <a href="/teacher/results" class="nav-link <%= currentPath.includes('/teacher/results') ? 'active' : '' %>">
                            <i class="fas fa-edit"></i> Enter Results
                        </a>
                        <a href="/teacher/my-results" class="nav-link <%= currentPath.includes('/teacher/my-results') ? 'active' : '' %>">
                            <i class="fas fa-list"></i> My Results
                        </a>
                        <a href="/teacher/classes" class="nav-link <%= currentPath.includes('/teacher/classes') ? 'active' : '' %>">
                            <i class="fas fa-users"></i> My Classes
                        </a>
                    <% } else if (user.role === 'officer') { %>
                        <a href="/dashboard" class="nav-link <%= currentPath === '/dashboard' ? 'active' : '' %>">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                        <a href="/result/approve" class="nav-link <%= currentPath.includes('/result/approve') ? 'active' : '' %>">
                            <i class="fas fa-check-circle"></i> Approve Results
                        </a>
                        <a href="/result/published" class="nav-link <%= currentPath.includes('/result/published') ? 'active' : '' %>">
                            <i class="fas fa-eye"></i> Published Results
                        </a>
                    <% } else if (user.role === 'student') { %>
                        <a href="/student/portal" class="nav-link <%= currentPath.includes('/student/portal') ? 'active' : '' %>">
                            <i class="fas fa-tachometer-alt"></i> Portal
                        </a>
                        <a href="/student/results" class="nav-link <%= currentPath.includes('/student/results') ? 'active' : '' %>">
                            <i class="fas fa-chart-line"></i> My Results
                        </a>
                        <a href="/student/profile" class="nav-link <%= currentPath.includes('/student/profile') ? 'active' : '' %>">
                            <i class="fas fa-user"></i> Profile
                        </a>
                    <% } %>
                </div>
                
                <div class="nav-user">
                    <span class="user-name">
                        <i class="fas fa-user-circle"></i>
                        <%= user.name %>
                    </span>
                    <a href="/logout" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
                
                <div class="nav-toggle" id="nav-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </div>
        </nav>
    <% } %>
    
    <main class="main-content">